syntax = "proto3";
option go_package = "./pb";

package pb;

import "model_http_web.proto";
import "rpc_messages.proto";

service HTTPWebService {
	// 创建Web配置
	rpc createHTTPWeb (CreateHTTPWebRequest) returns (CreateHTTPWebResponse);

	// 查找Web信息
	rpc findEnabledHTTPWeb (FindEnabledHTTPWebRequest) returns (FindEnabledHTTPWebResponse);

	// 查找Web配置
	rpc findEnabledHTTPWebConfig (FindEnabledHTTPWebConfigRequest) returns (FindEnabledHTTPWebConfigResponse);

	// 更改Web配置
	rpc updateHTTPWeb (UpdateHTTPWebRequest) returns (RPCUpdateSuccess);

	// 更改Gzip配置
	rpc updateHTTPWebGzip (UpdateHTTPWebGzipRequest) returns (RPCUpdateSuccess);

	// 更改字符集配置
	rpc updateHTTPWebCharset (UpdateHTTPWebCharsetRequest) returns (RPCUpdateSuccess);

	// 更改请求Header策略
	rpc updateHTTPWebRequestHeader (UpdateHTTPWebRequestHeaderRequest) returns (RPCUpdateSuccess);

	// 更改响应Header策略
	rpc updateHTTPWebResponseHeader (UpdateHTTPWebResponseHeaderRequest) returns (RPCUpdateSuccess);

	// 更改Shutdown
	rpc updateHTTPWebShutdown (UpdateHTTPWebShutdownRequest) returns (RPCUpdateSuccess);

	// 更改Pages
	rpc updateHTTPWebPages (UpdateHTTPWebPagesRequest) returns (RPCUpdateSuccess);

	// 更改访问日志配置
	rpc updateHTTPWebAccessLog (UpdateHTTPWebAccessLogRequest) returns (RPCUpdateSuccess);

	// 更改统计配置
	rpc updateHTTPWebStat (UpdateHTTPWebStatRequest) returns (RPCUpdateSuccess);

	// 更改缓存配置
	rpc updateHTTPWebCache (UpdateHTTPWebCacheRequest) returns (RPCUpdateSuccess);

	// 更改防火墙设置
	rpc updateHTTPWebFirewall (UpdateHTTPWebFirewallRequest) returns (RPCUpdateSuccess);

	// 更改路径规则配置
	rpc updateHTTPWebLocations (UpdateHTTPWebLocationsRequest) returns (RPCUpdateSuccess);

	// 跳转到HTTPS
	rpc updateHTTPWebRedirectToHTTPS (UpdateHTTPWebRedirectToHTTPSRequest) returns (RPCUpdateSuccess);
}

// 创建Web配置
message CreateHTTPWebRequest {
	string root = 1;
}

message CreateHTTPWebResponse {
	int64 webId = 1;
}

// 查找Web信息
message FindEnabledHTTPWebRequest {
	int64 webId = 1;
}

message FindEnabledHTTPWebResponse {
	HTTPWeb web = 1;
}

// 查找Web配置
message FindEnabledHTTPWebConfigRequest {
	int64 webId = 1;
}

message FindEnabledHTTPWebConfigResponse {
	bytes webJSON = 1;
}

// 更改Web配置
message UpdateHTTPWebRequest {
	int64 webId = 1;
	string root = 2;
}

// 更改Gzip配置
message UpdateHTTPWebGzipRequest {
	int64 webId = 1;
	bytes gzipJSON = 2;
}

// 更改字符集配置
message UpdateHTTPWebCharsetRequest {
	int64 webId = 1;
	bytes charsetJSON = 2;
}

// 更改请求Header策略
message UpdateHTTPWebRequestHeaderRequest {
	int64 webId = 1;
	bytes headerJSON = 2;
}

// 更改响应Header策略
message UpdateHTTPWebResponseHeaderRequest {
	int64 webId = 1;
	bytes headerJSON = 2;
}

// 更改Shutdown
message UpdateHTTPWebShutdownRequest {
	int64 webId = 1;
	bytes shutdownJSON = 2;
}

// 更改Pages
message UpdateHTTPWebPagesRequest {
	int64 webId = 1;
	bytes pagesJSON = 2;
}

// 更改访问日志配置
message UpdateHTTPWebAccessLogRequest {
	int64 webId = 1;
	bytes accessLogJSON = 2;
}

// 更改统计配置
message UpdateHTTPWebStatRequest {
	int64 webId = 1;
	bytes statJSON = 2;
}

// 更改缓存配置
message UpdateHTTPWebCacheRequest {
	int64 webId = 1;
	bytes cacheJSON = 2;
}

// 更改防火墙设置
message UpdateHTTPWebFirewallRequest {
	int64 webId = 1;
	bytes firewallJSON = 2;
}

// 更改路径规则配置
message UpdateHTTPWebLocationsRequest {
	int64 webId = 1;
	bytes locationsJSON = 3;
}

// 跳转到HTTPS
message UpdateHTTPWebRedirectToHTTPSRequest {
	int64 webId = 1;
	bytes redirectToHTTPSJSON = 2;
}